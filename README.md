# REACT v18 ПОРТФОЛИО

## ИНТРО

Проект представляет собой SPA на React 18(Create React App + TypeScript + SCSS) с использованием публичного IGDB API. Не использовал готовых компонентов(кроме некоторых utility-библиотек), стилей или помощи от ИИ-чатов. Дизайн тоже набросал сам по ходу работы. Стараюсь реализовать все типовые задачи, встречающиеся на коммерческих проектах, например: слайдер, табы, пагинация, роутинг, модалки и т.д. Минимальная ширина экрана 768px.

## АВТОРИЗАЦИЯ

Авторизация основана на Firebase. Все настройки и нужные функции хранятся в `/src/firebase`. Данные о пользователе прокидываются на все страницы через контекст `AuthContext`. В профиле пользователя можно обновить имя и аватарку. Эта страница перенаправляет неавторизованного пользователя на страницу с ошибкой `AuthError.tsx`.

## РОУТИНГ

Роутинг построен на React-router-dom v6. Все настройки в `/AppRouter.tsx`. Есть страница 404.

## API.TS

### getData()

Промис, который создаёт тело запроса из пришедших аргументов и отправляет на сервер. Опциональная переменная signal используется для отмены запроса.
Пример отправляемой строки: `fields name,cover.image_id,videos,screenshots,aggregated_rating; limit 6; sort first_release_date desc; where aggregated_rating > 0;`

### getDataCount()

Промис для получения количества элементов по выбранному эндпоинту с нужными настройками фильтрации. Пример тела запроса: `where genre = 2`.

### getCategories()

Получение названий и id категорий.

## HOOKS

### useGetData()

Получает и возвращает данные с сервера. Также возвращает индикатор загрузки и объект с ошибкой `TError`. Используется `AbortController` для сброса неактуальных запросов.

### useOutsideClick()

Простой хук для отслеживания клика за пределами переданного элемента.

### usePaginationData

Подготавливает и возвращает данные для пагинации: кол-во страниц и номер текущей страницы, добытый из хэша. Для подсчёта страниц получаем кол-во элементов из базы данных через `getDataCount` и делим с округлением на кол-во элементов на одной странице(переменная `fetchLimit`, по умолчанию равна 100).

## МОДАЛЬНЫЕ ОКНА

Модальные окна вставляются через портал в `body` и имеют свой контекст `ModalContext`, который пробрасывает внутрь переменную `isOpened`. Чтобы получить стандартное окно, содержимое модалки можно обернуть в `DefaultModalBlock`.

## ПОИСК
